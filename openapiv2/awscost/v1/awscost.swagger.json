{
  "swagger": "2.0",
  "info": {
    "title": "Alphaus Blue: AWSCost Service",
    "version": "1.0",
    "contact": {
      "name": "Alphaus Blue: AWSCost Service",
      "url": "https://alphauslabs.github.io/blueapi/apis/awscost.html"
    },
    "license": {
      "name": "License: Apache License 2.0",
      "url": "https://github.com/alphauslabs/blueapi/blob/main/LICENSE"
    }
  },
  "tags": [
    {
      "name": "AwsCost"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/accounts/{name}/costs:streamReadAccountCosts": {
      "post": {
        "summary": "Streams back the usage-based cost details of an AWS account. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadAccountCosts",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Cost"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Cost"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The AWS account to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadAccountCostsRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/accounts/{name}/fees:streamReadAccountFees": {
      "post": {
        "summary": "Streams back the fee-based details of an AWS account. This API covers non-usage-based\nfees, such as Fees, Credits, Discounts, Tax, Upfront Fees, etc. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadAccountFees",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Fee"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Fee"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The AWS account id to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadAccountFeesRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/billinggroups/{name}/costs:streamReadBillingGroupCosts": {
      "post": {
        "summary": "Streams back the usage-based cost details of a billing group. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadBillingGroupCosts",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Cost"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Cost"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The billing group id to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadBillingGroupCostsRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/billinggroups/{name}/fees:streamReadBillingGroupFees": {
      "post": {
        "summary": "Streams back the fee-based details of a billing group. This API covers non-usage-based\nfees, such as Fees, Credits, Discounts, Tax, Upfront Fees, etc. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadBillingGroupFees",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Fee"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Fee"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The billing group id to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadBillingGroupFeesRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/companies/{name}/costs:streamReadCompanyCosts": {
      "post": {
        "summary": "Streams back the usage-based cost details of a company. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadCompanyCosts",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Cost"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Cost"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The company id to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadCompanyCostsRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/companies/{name}/fees:streamReadCompanyFees": {
      "post": {
        "summary": "Streams back the fee-based details of a company. This API covers non-usage-based\nfees, such as Fees, Credits, Discounts, Tax, Upfront Fees, etc. If datetime range\nparameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadCompanyFees",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Fee"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Fee"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Required. The company id to stream.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadCompanyFeesRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/costs:streamReadCosts": {
      "post": {
        "summary": "Streams back the usage-based cost details of an MSP (Ripple) or company (Wave). If\ndatetime range parameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadCosts",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Cost"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Cost"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadCostsRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    },
    "/v1/fees:streamReadFees": {
      "post": {
        "summary": "Streams back the fee-based details of an MSP (Ripple) or company (Wave). This API covers\nnon-usage-based fees, such as Fees, Credits, Discounts, Tax, Upfront Fees, etc. If\ndatetime range parameters are not set, month-to-date (current month) will be returned.",
        "operationId": "AwsCost_StreamReadFees",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1Fee"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1Fee"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StreamReadFeesRequest"
            }
          }
        ],
        "tags": [
          "AwsCost"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "typeUrl": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1Cost": {
      "type": "object",
      "properties": {
        "account": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "productCode": {
          "type": "string"
        },
        "serviceCode": {
          "type": "string"
        },
        "region": {
          "type": "string"
        },
        "zone": {
          "type": "string"
        },
        "usageType": {
          "type": "string"
        },
        "instanceType": {
          "type": "string"
        },
        "operation": {
          "type": "string"
        },
        "invoiceId": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "usageAmount": {
          "type": "number",
          "format": "double"
        },
        "cost": {
          "type": "number",
          "format": "double"
        }
      },
      "description": "Response message for AwsCost.StreamReadAccountCosts."
    },
    "v1Fee": {
      "type": "object",
      "properties": {
        "account": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "type": {
          "type": "string"
        },
        "productCode": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "cost": {
          "type": "number",
          "format": "double"
        }
      },
      "description": "Response message for AwsCost.StreamReadAccountFees."
    },
    "v1StreamReadAccountCostsRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The AWS account to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadAccountCosts.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadAccountFeesRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The AWS account id to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadAccountFees.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadBillingGroupCostsRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The billing group id to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadBillingGroupCosts.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadBillingGroupFeesRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The billing group id to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadBillingGroupFees.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadCompanyCostsRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The company id to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadCompanyCosts.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadCompanyFeesRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Required. The company id to stream.",
          "required": [
            "name"
          ]
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadCompanyFees.",
      "required": [
        "name"
      ]
    },
    "v1StreamReadCostsRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Optional. The MSP id or company id to stream. If not provided, the parent MSP or\ncompany will be used."
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadCosts."
    },
    "v1StreamReadFeesRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Optional. The MSP id or company id to stream. If not provided, the parent MSP or\ncompany will be used."
        },
        "startTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to start streaming data from. If not set, the first day of the\ncurrent month will be used."
        },
        "endTime": {
          "type": "string",
          "format": "date-time",
          "description": "Optional. Timestamp to end the streaming data. If not set, current date will be used."
        }
      },
      "description": "Request message for AwsCost.StreamReadFees."
    }
  },
  "externalDocs": {
    "description": "More about Alphaus Blue: AWSCost Service",
    "url": "https://alphauslabs.github.io/blueapi/apis/awscost.html"
  }
}
